{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { LOGIN } from \"@/axios\";\nexport default {\n  name: \"LoginPage\",\n  data() {\n    return {\n      msgLogin: \"Log in into API DASHBOARD\",\n      email: \"\",\n      password: \"\"\n    };\n  },\n  computed: {},\n  methods: {\n    async handlerSubmit() {\n      await axios.post(LOGIN, {\n        email: this.email,\n        password: this.password\n      }).then(res => {\n        if (res.status == 200) {\n          localStorage.setItem(\"id\", res.data.data.id);\n          localStorage.setItem(\"email\", res.data.data.email);\n          localStorage.setItem(\"role\", res.data.data.role);\n          localStorage.setItem(\"access_token\", res.data.access_token);\n          axios.defaults.headers.common[\"Authorization\"] = `Bearer ${res.data.access_token}`;\n          this.$router.push({\n            name: \"Dashboard\"\n          });\n        }\n      }).catch(ex => {\n        console.log(ex);\n        if (ex.response.status == 401) {\n          document.getElementById(\"messError\").innerHTML = \"Email or password is invalid!\";\n        }\n        if (ex.response.status == 404) {\n          document.getElementById(\"messError\").innerHTML = \"Account's been deleted. Contact us to restore!\";\n        }\n      });\n    },\n    handleForgotPW() {\n      console.log(\"a\");\n      alert(\"Contact us to reset password\");\n    },\n    handleHome() {\n      this.$router.push({\n        name: \"Introduction\"\n      });\n    }\n  },\n  created() {\n    localStorage.removeItem(\"access_token\");\n    localStorage.removeItem(\"id\");\n    localStorage.removeItem(\"email\");\n    localStorage.removeItem(\"role\");\n  }\n};","map":{"version":3,"names":["axios","LOGIN","name","data","msgLogin","email","password","computed","methods","handlerSubmit","post","then","res","status","localStorage","setItem","id","role","access_token","defaults","headers","common","$router","push","catch","ex","console","log","response","document","getElementById","innerHTML","handleForgotPW","alert","handleHome","created","removeItem"],"sources":["src/components/views/Authentication/LoginPage.vue"],"sourcesContent":["<template>\n  <!-- <div class=\"bg-btn-login\"><div class=\"letter-btn-login\">{{ msgLogin }}</div></div> -->\n  <div>\n    <div class=\"navcontain\">\n      <div class=\"header-name-page\" @click=\"handleHome\" style=\"cursor: pointer\">\n        {{ msgLogin }}\n      </div>\n    </div>\n    <div class=\"contain\">\n      <form @submit.prevent=\"handlerSubmit\">\n        <div>\n          <img\n            src=\"../../../assets/images/admin01.png\"\n            alt=\"Login\"\n            width=\"100px\"\n            height=\"100px\"\n          />\n        </div>\n        <input type=\"text\" v-model=\"email\" placeholder=\"Enter Email\" required />\n        <input\n          type=\"password\"\n          v-model=\"password\"\n          placeholder=\"Enter Password\"\n          required\n        />\n        <span id=\"messError\"></span>\n\n        <button>Sign in</button>\n        <div class=\"text-contain\">\n          <div class=\"forgotpassword\">\n            <div\n              @click=\"handleForgotPW\"\n              style=\"font-style: italic; cursor: pointer;\"\n            >\n              Forgot password?\n            </div>\n          </div>\n          <div class=\"donthavaaccount\">\n            Don't have account?\n            <router-link to=\"/auth/register\">\n              <div\n                style=\"\n                  font-weight: 500;\n                  font-size: 14px;\n                  line-height: 16px;\n                  display: flex;\n                  align-items: center;\n                \"\n              >\n                Sign up\n              </div>\n            </router-link>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport { LOGIN } from \"@/axios\";\n\nexport default {\n  name: \"LoginPage\",\n\n  data() {\n    return {\n      msgLogin: \"Log in into API DASHBOARD\",\n      email: \"\",\n      password: \"\",\n    };\n  },\n  computed: {},\n  methods: {\n    async handlerSubmit() {\n      await axios\n        .post(LOGIN, { email: this.email, password: this.password })\n        .then((res) => {\n          if (res.status == 200) {\n            localStorage.setItem(\"id\", res.data.data.id);\n            localStorage.setItem(\"email\", res.data.data.email);\n            localStorage.setItem(\"role\", res.data.data.role);\n            localStorage.setItem(\"access_token\", res.data.access_token);\n\n            axios.defaults.headers.common[\n              \"Authorization\"\n            ] = `Bearer ${res.data.access_token}`;\n\n            this.$router.push({ name: \"Dashboard\" });\n          }\n        })\n        .catch((ex) => {\n          console.log(ex);\n          if (ex.response.status == 401) {\n            document.getElementById(\"messError\").innerHTML =\n              \"Email or password is invalid!\";\n          }\n          if (ex.response.status == 404) {\n            document.getElementById(\"messError\").innerHTML =\n              \"Account's been deleted. Contact us to restore!\";\n          }\n        });\n    },\n    handleForgotPW() {\n      console.log(\"a\");\n      alert(\"Contact us to reset password\");\n    },\n    handleHome() {\n      this.$router.push({ name: \"Introduction\" });\n    },\n  },\n  created() {\n    localStorage.removeItem(\"access_token\");\n\n    localStorage.removeItem(\"id\");\n    localStorage.removeItem(\"email\");\n    localStorage.removeItem(\"role\");\n  },\n};\n</script>\n<style>\n@import url(\"../../../assets/css/nav-style.css\");\n@import \"../../../assets/css/form-style.css\";\n\n.text-contain .forgotpassword a:hover {\n  color: #3d55547a;\n}\n</style>\n\n"],"mappings":";AA2DA,OAAAA,KAAA;AACA,SAAAC,KAAA;AAEA;EACAC,IAAA;EAEAC,KAAA;IACA;MACAC,QAAA;MACAC,KAAA;MACAC,QAAA;IACA;EACA;EACAC,QAAA;EACAC,OAAA;IACA,MAAAC,cAAA;MACA,MAAAT,KAAA,CACAU,IAAA,CAAAT,KAAA;QAAAI,KAAA,OAAAA,KAAA;QAAAC,QAAA,OAAAA;MAAA,GACAK,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,MAAA;UACAC,YAAA,CAAAC,OAAA,OAAAH,GAAA,CAAAT,IAAA,CAAAA,IAAA,CAAAa,EAAA;UACAF,YAAA,CAAAC,OAAA,UAAAH,GAAA,CAAAT,IAAA,CAAAA,IAAA,CAAAE,KAAA;UACAS,YAAA,CAAAC,OAAA,SAAAH,GAAA,CAAAT,IAAA,CAAAA,IAAA,CAAAc,IAAA;UACAH,YAAA,CAAAC,OAAA,iBAAAH,GAAA,CAAAT,IAAA,CAAAe,YAAA;UAEAlB,KAAA,CAAAmB,QAAA,CAAAC,OAAA,CAAAC,MAAA,CACA,gBACA,aAAAT,GAAA,CAAAT,IAAA,CAAAe,YAAA;UAEA,KAAAI,OAAA,CAAAC,IAAA;YAAArB,IAAA;UAAA;QACA;MACA,GACAsB,KAAA,CAAAC,EAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,EAAA;QACA,IAAAA,EAAA,CAAAG,QAAA,CAAAf,MAAA;UACAgB,QAAA,CAAAC,cAAA,cAAAC,SAAA,GACA;QACA;QACA,IAAAN,EAAA,CAAAG,QAAA,CAAAf,MAAA;UACAgB,QAAA,CAAAC,cAAA,cAAAC,SAAA,GACA;QACA;MACA;IACA;IACAC,eAAA;MACAN,OAAA,CAAAC,GAAA;MACAM,KAAA;IACA;IACAC,WAAA;MACA,KAAAZ,OAAA,CAAAC,IAAA;QAAArB,IAAA;MAAA;IACA;EACA;EACAiC,QAAA;IACArB,YAAA,CAAAsB,UAAA;IAEAtB,YAAA,CAAAsB,UAAA;IACAtB,YAAA,CAAAsB,UAAA;IACAtB,YAAA,CAAAsB,UAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}